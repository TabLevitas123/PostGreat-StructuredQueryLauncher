
# Error and Exception Handling Reference Guide

This guide provides information on common errors, their causes, and resolution steps for the Database Creation Wizard. Each module includes specific exceptions, potential triggers, and recommended solutions.

## Connection Manager Errors

- **ConnectionError**
    - **Cause**: Database credentials are incorrect or PostgreSQL is not running.
    - **Solution**: Verify PostgreSQL service status and check `.env` file for correct credentials.

- **CursorError**
    - **Cause**: Attempting to retrieve a cursor from a closed or invalid connection.
    - **Solution**: Ensure the connection is active before calling `get_cursor()`.

## Schema Creator Errors

- **SchemaExistsError**
    - **Cause**: Trying to create a schema that already exists.
    - **Solution**: Use `drop_schema()` first or verify schema existence.

- **SchemaNotFoundError**
    - **Cause**: Trying to delete a schema that does not exist.
    - **Solution**: Check if the schema name is correct and exists in the database.

## Table Manager Errors

- **TableExistsError**
    - **Cause**: Trying to create a table with a name that already exists in the schema.
    - **Solution**: Drop the existing table or use a different table name.

- **TableNotFoundError**
    - **Cause**: Attempting to delete a non-existent table.
    - **Solution**: Ensure the table exists before calling `drop_table()`.

## Data Ingestion Manager Errors

- **FileNotFoundError**
    - **Cause**: The specified file for data ingestion does not exist.
    - **Solution**: Verify the file path and ensure the file is accessible.

- **DataValidationError**
    - **Cause**: Data in the file does not match the table schema.
    - **Solution**: Ensure the file's structure aligns with the target table schema.

## Index Manager Errors

- **IndexExistsError**
    - **Cause**: Attempting to create an index that already exists.
    - **Solution**: Drop the existing index or choose a unique index name.

- **IndexNotFoundError**
    - **Cause**: Attempting to drop an index that doesn’t exist.
    - **Solution**: Check the index name and ensure it exists before dropping.

## Role Manager Errors

- **RoleExistsError**
    - **Cause**: Trying to create a role with a name that already exists.
    - **Solution**: Use a different role name or delete the existing role first.

- **RoleNotFoundError**
    - **Cause**: Trying to assign a non-existent role.
    - **Solution**: Verify the role’s existence before attempting assignments.

## Privilege Manager Errors

- **PrivilegeGrantError**
    - **Cause**: Error when trying to grant a privilege that conflicts with current privileges.
    - **Solution**: Ensure privilege compatibility and validate role-table associations.

- **PrivilegeRevokeError**
    - **Cause**: Error when trying to revoke a privilege that hasn’t been granted.
    - **Solution**: Confirm the privilege is granted before revoking.

## Testing Suite Errors

- **TestFailure**
    - **Cause**: A test did not pass due to incorrect data or configurations.
    - **Solution**: Check test logs for detailed output and ensure data/schema alignment.

- **LogWriteError**
    - **Cause**: Unable to write test results to log files.
    - **Solution**: Ensure log file permissions are set correctly and storage is available.

### Debugging and Troubleshooting Tips

1. **Check Logs**: Review log files generated by the application for additional error details.
2. **Validate Environment Variables**: Ensure environment variables are correctly set for database credentials and configurations.
3. **Enable Debug Mode**: For deeper insights, enable verbose logging within the configuration.

This guide provides a complete reference for identifying and resolving common errors encountered in the Database Creation Wizard.
